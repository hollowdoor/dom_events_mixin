{"version":3,"file":"code.js","sources":["../node_modules/matches-selector/index.js","../dist/bundle.es.js","src.js"],"sourcesContent":["'use strict';\n\nvar proto = typeof Element !== 'undefined' ? Element.prototype : {};\nvar vendor = proto.matches\n  || proto.matchesSelector\n  || proto.webkitMatchesSelector\n  || proto.mozMatchesSelector\n  || proto.msMatchesSelector\n  || proto.oMatchesSelector;\n\nmodule.exports = match;\n\n/**\n * Match `el` to `selector`.\n *\n * @param {Element} el\n * @param {String} selector\n * @return {Boolean}\n * @api public\n */\n\nfunction match(el, selector) {\n  if (!el || el.nodeType !== 1) return false;\n  if (vendor) return vendor.call(el, selector);\n  var nodes = el.parentNode.querySelectorAll(selector);\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i] == el) return true;\n  }\n  return false;\n}\n","import matches from 'matches-selector';\n\nfunction registerEvent(source, name){\n    source._events = source._events || {};\n    source._events[name] = source._events[name] || [];\n}\n\nfunction getEventInfo(name, delegate, listener, useCapture, ref){\n    if ( ref === void 0 ) ref = {};\n    var once = ref.once; if ( once === void 0 ) once = false;\n\n\n    var userListener;\n    var source = this;\n    var info = {\n        name: name,\n        once: once\n    };\n\n    if(typeof delegate !== 'string'){\n        useCapture = listener;\n        listener = delegate;\n        delegate = null;\n    }\n\n    if(delegate){\n        if(once){\n            userListener = listener;\n            listener = function(event){\n                if(matches(event.target, delegate)){\n                    removeEvent(source, info);\n                    return userListener.call(this, event);\n                }\n            };\n        }else{\n            userListener = listener;\n            listener = function(event){\n                if(matches(event.target, delegate)){\n                    return userListener.call(this, event);\n                }\n            };\n        }\n    }else if(once){\n        userListener = listener;\n        listener = function(event){\n            removeEvent(source, info);\n            return userListener.call(this, event);\n        };\n    }\n\n    return Object.assign(info, {\n        listener: listener,\n        userListener: userListener,\n        useCapture: useCapture,\n        delegate: delegate\n    });\n}\n\nfunction addEvent(source, event){\n    source._events[event.name].push(event);\n    source.element.addEventListener(event.name, event.listener, event.useCapture);\n}\n\nfunction removeEvent(source, event){\n    if(source._events === void 0) { return; }\n    if(source._events[event.name] === void 0) { return; }\n\n    var events = source._events[event.name];\n\n    for(var i=0; i<events.length; i++){\n        if(events[i].userListener === event.userListener){\n            source.element.removeEventListener(\n                name, event.listener, event.useCapture);\n            source._events[event.name].splice(i, 1);\n            return;\n        }\n    }\n}\n\nvar props = {\n    _delegated: [],\n    on: function on(name, delegate, listener, useCapture){\n        var info = getEventInfo.apply(null, arguments);\n        registerEvent(this, name);\n        addEvent(this, info);\n    },\n    off: function off(name, delegate, listener, useCapture){\n        var info = getEventInfo.apply(null, arguments);\n        removeEvent(this, info);\n    }\n    /*on(name, delegate, listener, useCapture){\n        return on(this, getEventInfo.apply(null,arguments));\n    },\n    off(name, delegate, listener, useCapture){\n        return off(this, getEventInfo.apply(null, arguments));\n    },\n    matches(selector){\n        return matches(this.element, selector);\n    },\n    key(keys, listener){\n        return keyed(this, keys, listener);\n    },\n    observe(event){\n        return new Observable({\n\n        });\n    }*/\n};\n\nfunction mixin(dest){\n    console.log(props);\n    Object.assign(dest, props);\n    return dest;\n}\n\nfunction mixinDOMEvents(dest){\n    return mixin(dest);\n}\n\nexport { mixin, mixinDOMEvents, props };\n//# sourceMappingURL=bundle.es.js.map\n","import { mixin } from '../';\n\nclass MyElement {\n    constructor(tag){\n        mixin(this);\n        if(typeof tag === 'string'){\n            this.element = document.createElement(tag);\n        }else{\n            this.element = tag;\n        }\n        if(this.element !== document.body)\n            document.body.appendChild(this.element);\n    }\n}\n\nconst el = new MyElement('input');\nel.on('click', e=>console.log('clicked'));\n"],"names":["matches","const"],"mappings":"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"}